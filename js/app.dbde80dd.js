(function(t){function e(e){for(var r,s,a=e[0],l=e[1],c=e[2],p=0,f=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/twodots/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),i=n.n(r);i.a},"223c":function(t,e,n){"use strict";var r=n("8b99"),i=n.n(r);i.a},"3bc8":function(t,e,n){t.exports=n.p+"img/anchor.af5e945e.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("4160"),n("4fad"),n("159b");var r=n("2909"),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),o=(n("13d5"),n("07ac"),n("ade3")),s=n("5530"),a=n("2f62");i["a"].use(a["a"]);var l,c={LEVEL_COMPLETED:"LEVEL_COMPLETED"},u={user:JSON.parse(localStorage.getItem("user")||null)||{name:"player",level:1,scoreByLevel:{}}},p={completeLevel:function(t,e){var n=t.commit,r=t.dispatch,i=e.level,o=e.score;n(c.LEVEL_COMPLETED,{level:i,score:o}),r("persist")},persist:function(t){var e=t.state;localStorage.setItem("user",JSON.stringify(e.user))}},f=Object(o["a"])({},c.LEVEL_COMPLETED,(function(t,e){var n=e.level,r=e.score,i=t.user.level===n?t.user.level+1:t.user.level;t.user=Object(s["a"])({},t.user,{level:i,scoreByLevel:Object(s["a"])({},t.user.scoreByLevel,Object(o["a"])({},n,r))})})),h={user:function(t){return Object(s["a"])({},t.user,{totalScore:Object.values(t.user.scoreByLevel).reduce((function(t,e){return t+e}),0)})}},m=new a["a"].Store({state:u,actions:p,mutations:f,getters:h}),d=(n("45fc"),n("a9e3"),n("8c4f")),g=(n("5db7"),n("73d9"),{BLUE:"blue",RED:"red",YELLOW:"yellow",GREEN:"green",PINK:"pink",TEAL:"teal"}),v=54,y={tileSize:v,gameboardSize:{width:8,height:8},dotColors:g,defaultTheme:{background:"white",colorMap:{dots:(l={},Object(o["a"])(l,g.RED,"#E53E3E"),Object(o["a"])(l,g.BLUE,"#3182CE"),Object(o["a"])(l,g.GREEN,"#48BB78"),Object(o["a"])(l,g.PINK,"#97266D"),Object(o["a"])(l,g.YELLOW,"#F6E05E"),Object(o["a"])(l,g.TEAL,"#81E6D9"),l)}},tileTypes:{DOT:"dot",WALL:"wall",BOMB:"bomb",ANCHOR:"anchor",RAMP:"ramp"},modifierTypes:{ICE:"ice"}},b=y.tileTypes.DOT,x=y.modifierTypes.ICE,w=y.dotColors.BLUE,W={name:"Homebase",levels:[{id:0,colors:[w],moves:999,goals:[{modifier:{type:x},target:4},{tile:{type:b,color:w},target:1}],blueprint:"\n        b b   b   b b\n        b b,i b,i b b\n        b b,i b,i b b\n        b b   b   W b\n        b b   b   b b\n      "}]},O=y.tileTypes.DOT,C=y.dotColors,j=C.BLUE,_=C.RED,S=C.YELLOW,A=C.GREEN,T=C.PINK,E={name:"Homebase",background:"#DF8E58",levels:[{id:1,colors:[j,_,S],moves:20,goals:[{tile:{type:O,color:_},target:15},{tile:{type:O,color:j},target:15},{tile:{type:O,color:S},target:15}],blueprint:"\n        r r r r\n        b y b y\n        b y b y\n        b y b y\n        b y b y\n      "},{id:2,colors:[A,S,_,j],moves:30,goals:[{tile:{type:O,color:A},target:15},{tile:{type:O,color:S},target:15},{tile:{type:O,color:_},target:15},{tile:{type:O,color:j},target:15}],blueprint:"\n        r r g r r\n        r y g y r\n        r y g y r\n        y y g y y\n        b b b b b\n      "},{id:3,colors:[A,S,_,j],moves:20,goals:[{tile:{type:O,color:_},target:50},{tile:{type:O,color:j},target:50},{tile:{type:O,color:S},target:50}],blueprint:"\n        r y b r b r\n        y r y b r b\n        b y r r b r\n        r b r r y b\n        b r b y r y\n        r y r b y r\n      "},{id:4,colors:[T,_,A,S],moves:20,goals:[{tile:{type:O,color:T},target:15},{tile:{type:O,color:_},target:15},{tile:{type:O,color:A},target:15},{tile:{type:O,color:S},target:15}],blueprint:"\n        p p r p\n        g g y g\n        r y y g\n        g y r r\n        p g p y\n        p p y g\n      "},{id:5,colors:[T,j,A,S],moves:26,goals:[{tile:{type:O,color:T},target:20},{tile:{type:O,color:j},target:20},{tile:{type:O,color:A},target:20},{tile:{type:O,color:S},target:20}],blueprint:"\n        * * W * * W * *\n        * * W * * W * *\n        * * W * * W * *\n        * * W p * W * *\n        * * W p * W * *\n        * * W y p W * *\n        * * W y p W * *\n        * * W * * W * *\n      "},{id:6,colors:[T,j,A,S,_],moves:26,goals:[{tile:{type:O,color:_},target:20},{tile:{type:O,color:S},target:20}],blueprint:"\n        g g y p p\n        p y g g b\n        p y y g b\n        r r y r g\n        p b b r g\n      "},{id:7,colors:[T,A,S,_],moves:30,goals:[{tile:{type:O,color:T},target:50},{tile:{type:O,color:_},target:50},{tile:{type:O,color:A},target:50},{tile:{type:O,color:S},target:50}],blueprint:"\n        p r g y p p p\n        p r g y p r p\n        p r g y p p p\n        p r g y y y y\n        p r g g g g g\n        p r r r r r r\n        p p p p p p p\n      "},{id:8,colors:[T,j,_,S],moves:23,goals:[{tile:{type:O,color:T},target:15},{tile:{type:O,color:j},target:15},{tile:{type:O,color:_},target:15},{tile:{type:O,color:S},target:15}],blueprint:"\n        b b b y\n        y p b y\n        W W r b\n        p y y r\n        p p W W\n        y b r y\n        b y r r\n      "},{id:9,colors:[j,_],moves:33,goals:[{tile:{type:O,color:j},target:80},{tile:{type:O,color:_},target:80}],blueprint:"\n        r r r W r r b\n        b W r W b W b\n        b r b r r r b\n        W W r W r W W\n        r r r b r b b\n        r W b W r W b\n        b b r W b b b\n      "},{id:10,colors:[j,_,A,S],moves:42,goals:[{tile:{type:O,color:j},target:30},{tile:{type:O,color:_},target:30},{tile:{type:O,color:A},target:30},{tile:{type:O,color:S},target:30}],blueprint:"\n        r y g r g r\n        W r g r r W\n        W W g b W W\n        y y r r b b\n        r r b g y y\n      "}]},M=y.tileTypes,k=M.DOT,L=M.ANCHOR,$=y.dotColors,R=$.BLUE,B=$.RED,P=$.YELLOW,D=$.GREEN,I=$.PINK,z={background:"url(".concat(n("8f45"),") repeat center")},q={name:"Under the Sea",background:"#232d62",levels:[{id:11,theme:z,colors:[D,I,R],moves:20,goals:[{tile:{type:L},target:4}],anchors:{maximum:2},blueprint:"\n        g p b p g\n        g p b p g\n        g b A b g\n        g p b p g\n        g p b p g\n      "},{id:12,theme:z,colors:[D,I,R,B,P],moves:18,goals:[{tile:{type:L},target:2}],anchors:{maximum:0},blueprint:"\n        y A p b A r\n        r y p y r g\n        p y r p g y\n        g y p g b y\n        p y r g y p\n        r y r b p p\n      "},{id:13,theme:z,colors:[D,R,B,P],moves:20,goals:[{tile:{type:L},target:6}],anchors:{maximum:0},blueprint:"\n        b A A A A A A b\n        r r g b g g b y\n        g b g b b r g y\n        b y g r b b g r\n        g r g r r y g b\n      "},{id:14,theme:z,colors:[R,B,P],moves:30,goals:[{tile:{type:L},target:10},{tile:{type:k,color:B},target:40},{tile:{type:k,color:P},target:35},{tile:{type:k,color:R},target:10}],anchors:{maximum:2},blueprint:"\n        A W W A\n        r r b y\n        r r r r\n        b y y y\n        y y y y\n      "},{id:15,theme:z,colors:[R,P,D],moves:30,goals:[{tile:{type:L},target:5}],anchors:{maximum:1},blueprint:"\n        g g p p\n        b p y b\n        b p p p\n        W b b b\n        W g g b\n        g b p y\n        g b y p\n      "},{id:16,theme:z,colors:[R,P,D,I,B],moves:35,goals:[{tile:{type:k,color:I},target:35},{tile:{type:k,color:R},target:30},{tile:{type:k,color:P},target:25}],blueprint:"\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        W * * * * * W\n        W * * * * * W\n        W * p p p * W\n        W W p p p W W\n      "},{id:17,theme:z,colors:[B,D,R],moves:29,goals:[{tile:{type:L},target:16},{tile:{type:k,color:R},target:50},{tile:{type:k,color:B},target:40},{tile:{type:k,color:D},target:30}],blueprint:"\n        A * * * A\n        * A * A *\n        * * A * *\n        * * * * *\n      "},{id:18,theme:z,colors:[B,D,I,P],moves:27,goals:[{tile:{type:L},target:7}],blueprint:"\n        A W g g W A\n        * W g g W *\n        * * W W * *\n        * * * * * *\n        * * * * * *\n        * * * * * *\n        * * * * * *\n        * * * * * *\n      "},{id:19,theme:z,colors:[B,D,I,P,R],moves:31,goals:[{tile:{type:L},target:8}],blueprint:"\n        * A * A * A *\n        W W W W W W W\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n      "},{id:20,theme:z,colors:[B,D,I,R],moves:39,goals:[{tile:{type:L},target:9}],blueprint:"\n        A * * A * * A\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n      "},{id:21,theme:z,colors:[B,I,R],moves:40,goals:[{tile:{type:L},target:10}],blueprint:"\n        *  * * * *\n        *  * * * *\n        *  * * * *\n        *  * * * *\n        Rr * * * Rl\n        W  * * * W\n        W  * * * W\n      "},{id:22,theme:z,colors:[B,I,R,D],moves:17,goals:[{tile:{type:L},target:4}],blueprint:"\n        * A A A *\n        * * * * *\n        * * * * *\n        * * * * *\n        * * * * *\n      "},{id:23,theme:z,colors:[B,I,R,D],moves:30,goals:[{tile:{type:k,color:I},target:36},{tile:{type:k,color:B},target:36},{tile:{type:k,color:R},target:36},{tile:{type:k,color:D},target:36}],blueprint:"\n        * * * *\n        * * * *\n        * W W *\n        * W W *\n        * r * *\n        * r r *\n        * * r *\n        W g g W\n        * g * *\n      "},{id:24,theme:z,colors:[B,I,R,D],moves:33,goals:[{tile:{type:L},target:8}],blueprint:"\n        A * * * A\n        * * A * *\n        * * * * *\n        W * * * W\n        W * * * W\n        * * * * *\n        * * * * *\n        * * * * *\n      "},{id:25,theme:z,colors:[B,I,P,D],moves:21,goals:[{tile:{type:k,color:I},target:80},{tile:{type:k,color:B},target:70},{tile:{type:k,color:D},target:60},{tile:{type:k,color:P},target:50}],blueprint:"\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n      "},{id:26,theme:z,colors:[R,I,P,D],moves:31,goals:[{tile:{type:k,color:I},target:44},{tile:{type:k,color:R},target:44},{tile:{type:k,color:D},target:44},{tile:{type:k,color:P},target:44}],blueprint:"\n        g g g g g\n        g W W W g\n        y y W b b\n        p p W p p\n        p W W W p\n        p p p p p\n        y y g b b\n        y g g g b\n      "},{id:27,theme:z,colors:[R,I,P,D,B],moves:30,goals:[{tile:{type:L},target:9}],blueprint:"\n      * * * * * * *\n      * * * * * * *\n      * * * * * * *\n      * * r r * * *\n      * * r r * * *\n      * * * * * * *\n      W A A A A A W\n      p b g r g b y\n      "},{id:28,theme:z,colors:[R,I,P,D,B],moves:17,goals:[{tile:{type:L},target:4}],blueprint:"\n      W W W A A W W W\n      W W W * * W W W\n      W W W * * W W W\n      W W * g g * W W\n      W W * g g * W W\n      W * * * * * * W\n      W * * y y * * W\n      * * * y y * * *\n      "},{id:29,theme:z,colors:[R,I,P,D,B],moves:32,goals:[{tile:{type:L},target:6}],blueprint:"\n      W W W A  W  W W W\n      W W W *  W  W W W\n      W W * Rr p  W W W\n      W * * W  p  p W W\n      * * * r  Rl * * *\n      * * r r  W  * * *\n      * * * Rr g  * * *\n      * * * W  g  g * *\n      "},{id:30,theme:z,colors:[R,I,P,D,B],moves:20,goals:[{tile:{type:L},target:9}],blueprint:"\n      * * * A A * * *\n      * * * g b * * *\n      * * * r r * * *\n      * * * b r * * *\n      * W * r r * W *\n      * W * b b * W *\n      "},{id:31,theme:z,colors:[R,I,P,B],moves:39,goals:[{tile:{type:k,color:I},target:28},{tile:{type:k,color:R},target:28},{tile:{type:k,color:B},target:28},{tile:{type:k,color:P},target:28},{tile:{type:L},target:7}],blueprint:"\n        W W W W W W\n        W * * * * W\n        * * * * * *\n        * * * * * *\n        * * * * * *\n        * * * * * *\n        W W W W W W\n        W A A A A W\n        W * * * * W\n        "},{id:32,theme:z,colors:[R,I,D,B,P],moves:29,goals:[{tile:{type:L},target:12}],blueprint:"\n        W A A A A A A W\n        W W W W W W W W\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        "},{id:33,theme:z,colors:[R,I,D,B,P],moves:31,goals:[{tile:{type:L},target:5}],blueprint:"\n        A W A W A W A\n        * W * W * W *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * * * * * * *\n        * W * W * W *\n        "},{id:34,theme:z,colors:[R,I,D,B,P],moves:35,goals:[{tile:{type:L},target:9}],anchors:{maximum:3},blueprint:"\n        * A * A A * A *\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        * * * * * * * *\n        * W W W W W W *\n        * * * * * * * *\n        "},{id:35,theme:z,colors:[R,I,D,B,P],moves:33,goals:[{tile:{type:k,color:I},target:24},{tile:{type:k,color:R},target:24},{tile:{type:k,color:B},target:24},{tile:{type:k,color:D},target:24},{tile:{type:L},target:9}],anchors:{maximum:2,dedicatedColumns:[0,1]},blueprint:"\n        y A W * * * * *\n        A g W * * * * *\n        g A W * * * * *\n        A r W * * * * *\n        r A W * * * * *\n        A b W * * * * *\n        b p W * * * * *\n        "}]},F=[W,E,q],N=F.flatMap((function(t){return t.levels})),G=F,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MapView"},[n("div",{staticClass:"mt-10 mb-5 text-center"},[n("Logo",{staticClass:"text-4xl"}),n("div",[n("div",[t._v(t._s(t.user.name))]),n("div",[t._v(t._s(t.user.totalScore))])])],1),n("div",{},t._l(t.regions,(function(e,r){return n("div",{key:r,staticClass:"py-10",style:{background:e.background}},[n("div",{staticClass:"max-w-sm mx-auto"},t._l(e.levels,(function(e){return n("div",{key:e.id,staticClass:"my-3"},[n("div",{staticClass:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-white text-gray-500 border-4 text-lg relative cursor-pointer",class:{"border-red-500 text-gray-700":t.user.level>=e.id,"pointer-events-none":t.user.level<e.id},on:{click:function(n){return t.selectLevel(e.id)}}},[t.user.level>e.id?n("div",{staticClass:"absolute top-0 inset-x-0 text-center leading-none text-sm pt-px"},[n("Icon",{attrs:{name:"star",size:"xs"}})],1):t._e(),t._v(" "+t._s(e.id)+" ")])])})),0)])})),0)])},Y=[];n("7db0");function U(t){var e=N.find((function(e){return e.id===t}));return Object(s["a"])({},e,{theme:Object(s["a"])({},y.defaultTheme,{},e.theme||{})})}var V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Logo text-2xl text-center"},[n("span",{staticClass:"font-bold"},[t._v("VUE")]),t._v(":DOTS ")])}],X=n("2877"),J={},K=Object(X["a"])(J,V,Q,!1,null,null,null),Z=K.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-layout",{staticClass:"select-none font-sans font-light",attrs:{width:"420","hide-closer":""}},[n("div",{staticClass:"font-light text-2xl text-center lg:mt-3 mb-3 lg:mb-5"},[t._v(" Level "+t._s(t.level.id)+" ")]),n("div",{staticClass:"flex items-center justify-center"},t._l(t.level.goals,(function(e,r){return n("div",{key:r,staticClass:"text-center"},[n("GoalPreview",{staticClass:"w-8 h-8 m-2",attrs:{goal:e,theme:t.level.theme}}),t._v(" "+t._s(e.target)+" ")],1)})),0),n("div",{staticClass:"text-lg text-center mt-5"},[t._v(" in "+t._s(t.level.moves)+" Moves ")]),n("div",{staticClass:"mt-5 lg:mt-10"},[n("Button",{staticClass:"w-full",attrs:{primary:""},on:{click:function(e){return t.$emit("close",!0)}}},[t._v(" Let's go ")])],1)])},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.component,t._b({tag:"component",attrs:{theme:t.theme}},"component",t.attrs,!1))},rt=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 1 1"}},[n(t.component,{tag:"component",attrs:{tile:t.tile,theme:t.theme}})],1)},ot=[];n("99af");function st(t){return t[Math.floor(Math.random()*t.length)]}var at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"DotTile",attrs:{"transform-origin":"0.5 0.5"}},[n("circle",{ref:"beacon",staticClass:"pointer-events-none will-transform",attrs:{cx:"0.5",cy:"0.5",r:"0.26",fill:t.hexColor,"transform-origin":"0.5 0.5"}}),n("circle",{ref:"dot",staticClass:"will-transform",attrs:{cx:"0.5",cy:"0.5",r:"0.26",fill:t.hexColor}}),n("circle",{staticClass:"opacity-0",attrs:{cx:"0.5",cy:"0.5",r:"0.4",fill:"black"}})])},lt=[],ct=n("1209"),ut={props:{tile:{type:Object,required:!0},theme:{type:Object}}},pt={mixins:[ut],computed:{hexColor:function(){return this.theme.colorMap.dots[this.tile.color]}},methods:{animateBurn:function(){return Object(ct["a"])({targets:this.$refs.dot,fill:"#333",easing:"linear",duration:150}).finished},animateBeacon:function(){return Object(ct["a"])({targets:this.$refs.beacon,scale:[1,2.5],opacity:[1,0],easing:"linear",duration:400}).finished}}},ft=pt,ht=Object(X["a"])(ft,at,lt,!1,null,null,null),mt=ht.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"WallTile"})},gt=[],vt={mixins:[ut]},yt=vt,bt=Object(X["a"])(yt,dt,gt,!1,null,null,null),xt=bt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"BombTile"},[t._l(t.beams,(function(t,e){return n("g",{key:e},[n("g",{style:"transform: rotate("+t.beamAngle+"deg); transform-origin: 0.5px 0.5px"},[n("polyline",{ref:"beams",refInFor:!0,staticStyle:{"transform-origin":"0.5px 0.5px","stroke-dasharray":"1 1"},attrs:{points:"0.5,-0.75 0.5,0.5",stroke:"#333","stroke-width":".1"}})]),n("g",{style:"transform: translate("+t.flashPosition.x+"px,"+t.flashPosition.y+"px); transform-origin: 0.5px 0.5px"},[n("circle",{ref:"flashes",refInFor:!0,staticStyle:{"transform-origin":"0.5px 0.5px"},attrs:{cx:"0.5",cy:"0.5",r:"0.261",fill:"#333"}})])])})),n("circle",{ref:"bomb",attrs:{cy:".5",cx:".5",r:"0.26",fill:"#333"}}),n("circle",{ref:"ring1",staticStyle:{"transform-origin":"0.5px 0.5px"},attrs:{cy:".5",cx:".5",r:"0.26",fill:"black"}}),n("circle",{ref:"ring2",staticStyle:{"transform-origin":"0.5px 0.5px"},attrs:{cy:".5",cx:".5",r:"0.26",fill:"#333"}})],2)},Wt=[],Ot=(n("d81d"),n("d3b7"),{mixins:[ut],data:function(){return{beams:[]}},methods:{animateDetonation:function(t){var e=this;return this.beams=t.map((function(t){var n={x:t.position.x-e.tile.position.x,y:t.position.y-e.tile.position.y},r=180*Math.atan2(n.y,n.x)/Math.PI+90;return{flashPosition:n,beamAngle:r}})),new Promise((function(t){e.$nextTick((function(){Object(ct["a"])({targets:e.$refs.beams,complete:t,strokeDashoffset:[{value:[-1,0],duration:200,easing:"easeInQuad"},{value:[0,1],duration:200,easing:"easeInQuad",delay:100}],opacity:{value:[1,0],duration:1,delay:400,easing:"linear"}}),Object(ct["a"])({targets:e.$refs.flashes,easing:"linear",duration:150,opacity:{value:[0,1]},scale:{value:[1,0],delay:400}})}))}))}},mounted:function(){var t=this.theme.colorMap.dots[this.tile.originalTile.color];Object(ct["a"])({targets:this.$refs.bomb,fill:[t||"#333","#333"],duration:200,easing:"linear"}),Object(ct["a"])({targets:this.$refs.ring1,scale:[0,1],easing:"linear",duration:500,loop:!0,endDelay:200}),Object(ct["a"])({targets:this.$refs.ring2,scale:[0,1],easing:"linear",duration:500,loop:!0,delay:200})}}),Ct=Ot,jt=Object(X["a"])(Ct,wt,Wt,!1,null,null,null),_t=jt.exports,St=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("image",{staticClass:"object-contain overflow-hidden",attrs:{href:n("3bc8"),x:".225",y:".225",width:".55",height:".55",preserveAspectRatio:"none"}})])},At=[],Tt={mixins:[ut]},Et=Tt,Mt=Object(X["a"])(Et,St,At,!1,null,null,null),kt=Mt.exports,Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("image",{style:{transformOrigin:"0.5px 0.5px",transform:"left"===t.tile.orientation?"rotateY(180deg)":""},attrs:{"xlink:href":n("fc17"),width:"1",height:"1"}})])},$t=[],Rt={mixins:[ut]},Bt=Rt,Pt=Object(X["a"])(Bt,Lt,$t,!1,null,null,null),Dt=Pt.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 1 1"}},[n("circle",{ref:"dot",staticClass:"will-transform",attrs:{cx:"0.5",cy:"0.5",r:"0.5",fill:t.hexColor}})])},zt=[],qt={mixins:[ut],computed:{hexColor:function(){return this.theme.colorMap.dots[this.tile.color]}}},Ft=qt,Nt=Object(X["a"])(Ft,It,zt,!1,null,null,null),Gt=Nt.exports,Ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{viewBox:"0 0 1 1"}},[r("image",{staticClass:"object-contain overflow-hidden",attrs:{href:n("3bc8"),width:"1",height:"1",preserveAspectRatio:"none"}})])},Yt=[],Ut={mixins:[ut]},Vt=Ut,Qt=Object(X["a"])(Vt,Ht,Yt,!1,null,null,null),Xt=Qt.exports,Jt=1;function Kt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(s["a"])({},n,{id:"tile.".concat(Jt++),position:t,type:e})}function Zt(t){return Kt(t,y.tileTypes.WALL,{static:!0})}function te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.dotColors;return Kt(t,y.tileTypes.DOT,{color:st([].concat(e))})}function ee(t,e){return Kt(t,y.tileTypes.BOMB,{originalTile:e})}function ne(t){return Kt(t,y.tileTypes.ANCHOR)}function re(t,e){return Kt(t,y.tileTypes.RAMP,{static:!0,orientation:e})}function ie(t){return(null===t||void 0===t?void 0:t.type)===y.tileTypes.DOT}function oe(t){return(null===t||void 0===t?void 0:t.type)===y.tileTypes.BOMB}function se(t){return(null===t||void 0===t?void 0:t.type)===y.tileTypes.WALL}function ae(t){return(null===t||void 0===t?void 0:t.type)===y.tileTypes.ANCHOR}function le(t){return(null===t||void 0===t?void 0:t.type)===y.tileTypes.RAMP}function ce(t){var e;return(e={},Object(o["a"])(e,y.tileTypes.DOT,mt),Object(o["a"])(e,y.tileTypes.WALL,xt),Object(o["a"])(e,y.tileTypes.BOMB,_t),Object(o["a"])(e,y.tileTypes.ANCHOR,kt),Object(o["a"])(e,y.tileTypes.RAMP,Dt),e)[t]}function ue(t){var e;return(e={},Object(o["a"])(e,y.tileTypes.DOT,Gt),Object(o["a"])(e,y.tileTypes.ANCHOR,Xt),e)[t]}var pe={props:{tile:{type:Object,required:!0},theme:{type:Object}},computed:{component:function(){return ue(this.tile.type)}}},fe=pe,he=Object(X["a"])(fe,it,ot,!1,null,null,null),me=he.exports,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.component,{tag:"component",attrs:{modifier:t.modifier,theme:t.theme}})},ge=[],ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"pointer-events-none",attrs:{width:"1",height:"1",viewBox:"0 0 1 1"}},[n("defs",[n("filter",{attrs:{id:"blur"}},[n("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:".2"}})],1)]),n("g",{staticClass:"transform scale-90 origin-center",attrs:{"transform-origin":"0.5 0.5"}},[n("rect",{staticStyle:{position:"relative","z-index":"-1"},attrs:{x:"0",y:"0",width:"1",height:"1",fill:"rgba(100,100,100,.2)"}}),n("circle",{staticStyle:{opacity:".75",transition:"fill .5s"},attrs:{cx:"0.5",cy:"0.5",r:"0.4",fill:t.color,filter:"url(#blur)"}}),n("g",{staticStyle:{fill:"none",stroke:"#FFFFFF","stroke-width":"0.01"}},[n("polyline",{attrs:{points:"0,.95 1,.95"}}),t.modifier.cracks>0?n("g",[n("line",{attrs:{x1:"1",y1:"0.62",x2:"0.58",y2:"0.8"}}),n("polyline",{attrs:{points:"0,0.89 0.31,0.7 0.7,0 \t"}}),n("polyline",{attrs:{points:"1,0.15 0.95,0.2 0.63,0.12 \t"}}),n("line",{attrs:{x1:"0.31",y1:"0.7",x2:"1",y2:"0.95"}}),n("line",{attrs:{x1:"0.38",y1:"0.58",x2:"0.44",y2:"0.75"}})]):t._e(),t.modifier.cracks>1?n("g",[n("line",{attrs:{x1:"0",y1:"0.44",x2:"0.43",y2:"0.48"}}),n("polyline",{attrs:{points:"0,0.16 0.24,0 0.56,0.24 \t"}}),n("line",{attrs:{x1:"0.7",y1:"0",x2:"0.38",y2:"0.11"}}),n("line",{attrs:{x1:"0.18",y1:"1",x2:"0.37",y2:"0.72"}}),n("line",{attrs:{x1:"0.93",y1:"1",x2:"0.92",y2:"0.92"}})]):t._e()])])])},ye=[],be={props:{modifier:{type:Object,required:!0},theme:{type:Object}}},xe={mixins:[be],computed:{color:function(){return ie(this.modifier.tile)?this.theme.colorMap.dots[this.modifier.tile.color]:"rgba(255,255,255,.5)"}}},we=xe,We=Object(X["a"])(we,ve,ye,!1,null,null,null),Oe=We.exports,Ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{viewBox:"0 0 1 1"}},[r("circle",{attrs:{cx:".5",cy:".5",r:".5",fill:"#fff"}}),r("image",{staticClass:"object-contain overflow-hidden",attrs:{href:n("99e3"),width:"1",height:"1",preserveAspectRatio:"none"}})])},je=[],_e={mixins:[be]},Se=_e,Ae=Object(X["a"])(Se,Ce,je,!1,null,null,null),Te=Ae.exports,Ee=1;function Me(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(s["a"])({},n,{id:"modifier.".concat(Ee++),position:t,type:e})}function ke(t){return Me(t,y.modifierTypes.ICE)}function Le(t){return(null===t||void 0===t?void 0:t.type)===y.modifierTypes.ICE}function $e(t){return Object(o["a"])({},y.modifierTypes.ICE,Oe)[t]}function Re(t){return Object(o["a"])({},y.modifierTypes.ICE,Te)[t]}var Be={props:{modifier:{type:Object,required:!0},theme:{type:Object}},computed:{component:function(){return Re(this.modifier.type)}}},Pe=Be,De=Object(X["a"])(Pe,de,ge,!1,null,null,null),Ie=De.exports,ze={components:{TilePreview:me,ModifierPreview:Ie},props:{goal:{type:Object},theme:{type:Object}},computed:{component:function(){return this.goal.modifier?Ie:me},attrs:function(){var t=this.goal,e=t.modifier,n=t.tile;return e?{modifier:e}:{tile:n}}}},qe=ze,Fe=Object(X["a"])(qe,nt,rt,!1,null,null,null),Ne=Fe.exports,Ge={components:{GoalPreview:Ne},props:{level:{type:Object,required:!0}}},He=Ge,Ye=Object(X["a"])(He,tt,et,!1,null,null,null),Ue=Ye.exports,Ve={components:{Logo:Z},data:function(){return{regions:G}},computed:{user:function(){return this.$store.getters.user}},methods:{selectLevel:function(t){var e=this,n=U(t);this.$modal(Ue,{level:n}).then((function(n){return n&&e.$router.push({name:"level",params:{level:t}})}))}}},Qe=Ve,Xe=Object(X["a"])(Qe,H,Y,!1,null,null,null),Je=Xe.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"LevelView flex flex-col items-center justify-center px-3 lg:px-5",style:{background:t.level.theme.background}},[n("LevelInterface",{attrs:{"moves-left":t.movesLeft,goals:t.goals,theme:t.level.theme,score:t.score},on:{"restart-level":function(e){return t.restartLevel()},"exit-to-map":function(e){return t.exitToMap()}}}),n("svg",{ref:"canvas",staticClass:"mx-auto",attrs:{width:t.canvasSize.width,height:t.canvasSize.height,viewBox:"0 0 "+t.size.width+" "+t.size.height}},[n("WallsLayer",{attrs:{walls:t.wallTiles,size:t.size}}),t._l(t.tiles,(function(e){return n("svg",t._b({key:e.id},"svg",e.position,!1),[n("GameboardTile",{ref:e.id,refInFor:!0,attrs:{tile:e,theme:t.level.theme}})],1)})),t._l(t.modifiersWithTile,(function(e){return n("GameboardModifier",t._b({key:e.id,ref:e.id,refInFor:!0,attrs:{modifier:e,theme:t.level.theme}},"GameboardModifier",e.position,!1))})),n("Selection",{attrs:{"tiles-matrix":t.tilesMatrix,disabled:t.isSelectionDisabled,theme:t.level.theme,size:t.size},on:{start:t.startSelection,change:t.changeSelection,end:t.endSelection}})],2),n("SelectionProgressFrame",{attrs:{selection:t.isMakingSelection?t.selection:[],theme:t.level.theme}})],1)},Ze=[],tn=(n("a623"),n("4de4"),n("caad"),n("fb6a"),n("2532"),n("3ca3"),n("ddb0"),n("96cf"),n("3835")),en=n("1da1");n("ac1f"),n("1276"),n("498a");function nn(t,e){var n={".":void 0,"*":function(t){return te(t,e)},r:function(t){return te(t,"red")},b:function(t){return te(t,"blue")},y:function(t){return te(t,"yellow")},g:function(t){return te(t,"green")},p:function(t){return te(t,"pink")},t:function(t){return te(t,"teal")},W:function(t){return Zt(t)},A:function(t){return ne(t)},Rr:function(t){return re(t,"right")},Rl:function(t){return re(t,"left")}},r={i:function(t){return ke(t)}},i=0,o=0,s=[],a=[];t.trim().split("\n").forEach((function(t,e){o=e+1,t.trim().split(/\s+/).map((function(t,o){i=Math.max(i,o+1);var l={x:o,y:e},c=t.split(","),u=Object(tn["a"])(c,2),p=u[0],f=u[1],h=n[p]&&n[p](l);h&&a.push(h);var m=r[f]&&r[f](l);m&&s.push(m)}))}));var l={height:o,width:i};return{size:l,tiles:a,modifiers:s}}var rn=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]],on={CROSS:[0,1,0,1,0,1,0,1,0],SQUARE:[1,1,1,1,0,1,1,1,1],DOWN_SQUARE:[0,0,0,0,1,1,0,1,1]};function sn(t){var e=t.width,n=t.height;return Object(r["a"])(Array(n)).map((function(){return Object(r["a"])(Array(e))}))}function an(t,e){return t[e]}function ln(t,e){var n=e.x,r=e.y;return(an(t,r)||[])[n]}function cn(t,e,n){var r=e.x,i=e.y;t[i][r]=n}function un(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:on.CROSS;return rn.filter((function(t,e){return n[e]})).map((function(n){var r=Object(tn["a"])(n,2),i=r[0],o=r[1];return ln(t,{x:e.x+i,y:e.y+o})})).filter(Boolean)}function pn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElementNS("http://www.w3.org/2000/svg",t);return Object.entries(e).forEach((function(t){var e=Object(tn["a"])(t,2),r=e[0],i=e[1];n.setAttribute(r,i)})),n}var fn=function(){return st(["#FC8181","#FBD38D","#9AE6B4","#90CDF4","#D6BCFA"])};function hn(t,e){var n=e.x,i=e.y,o=Object(r["a"])(Array(8)).map((function(){return pn("circle",{fill:fn(),cx:n+.5,cy:i+.5,r:.15,"transform-origin":"".concat(n+.5," ").concat(i+.5)})}));o.forEach((function(e){return t.appendChild(e)})),Object(ct["a"])({targets:o,translateX:function(){return ct["a"].random(-1,1)},translateY:function(){return ct["a"].random(-1,1)},scale:0,opacity:0,easing:"easeOutSine",duration:500,complete:function(){return o.forEach((function(e){return null===t||void 0===t?void 0:t.removeChild(e)}))}})}var mn=function(t,e){return t.x===e.x&&t.y===e.y},dn=function(t,e){return function(n){return n[t]===e}},gn=function(t,e){return function(n){return n[t]!==e}},vn=function(t){return dn("id",t)},yn=function(t){return gn("id",t)},bn=function(t){return function(e){return mn(e.position,t)}},xn=n("8cc4"),wn=(new xn["Synth"]).toMaster(),Wn=new xn["PolySynth"](4,xn["Synth"]).toMaster(),On=new xn["Synth"]({oscillator:{type:"pulse",modulationFrequency:.1},envelope:{attack:.1,decay:.1,sustain:.05,release:.1}}).toMaster(),Cn=new xn["Synth"]({oscillator:{type:"sine"},envelope:{attack:.1,decay:.2,sustain:0,release:1.2}}).toMaster(),jn=new xn["Synth"]({oscillator:{type:"sine",modulationFrequency:.2},envelope:{attack:0,decay:.1,sustain:0,release:.1}}).toMaster(),_n=["c3","d3","g3","a3","a#3","d4","f4","g4","a4","a#4","d5","g5","a5","a#5","d6","f6","g6","a6","a#6","d7","g7","a7","a#7","d8","f8","g8","a8","a#8"];function Sn(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Math.min(t-1,_n.length-1),e?Wn.triggerAttackRelease([_n[t],_n[t+3]],"10n"):wn.triggerAttackRelease(_n[t],"10n")}function An(){On.triggerAttackRelease("a3","20n"),On.triggerAttackRelease("c2","20n","+0.25"),On.triggerAttackRelease("f3","20n","+0.5")}function Tn(){Cn.triggerAttackRelease("a3"),Cn.triggerAttackRelease("g5","12n","+.15")}function En(){Cn.triggerAttackRelease("d3"),Cn.triggerAttackRelease("c6","20n","+.15")}function Mn(){jn.triggerAttackRelease(600,"1n")}var kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"LevelInterface"},[n("div",{staticClass:"header absolute top-0 inset-x-0 flex w-full align-center justify-center text-gray-700 space-x-2 lg:space-x-5 px-3 pt-5 lg:pt-10"},[n("div",{staticClass:"panel flex-none px-0 w-12 lg:w-16"},[n("div",{staticClass:"text-center leading-none"},[n("div",{staticClass:"text-2xl lg:text-3xl mb-px -mb-px lg:mb-px",class:{"text-red-500":t.isLowOnMovesLeft}},[t._v(t._s(t.movesLeft))]),n("div",{staticClass:"uppercase text-2xs lg:text-xs font-normal"},[t._v("Moves")])])]),n("div",{staticClass:"panel flex-auto flex justify-center lg:flex-none px-1 px-3 lg:px-5"},t._l(t.goals,(function(e,r){return n("div",{key:r,staticStyle:{"flex-basis":"33.333%"}},[n("GoalItem",{staticClass:"mx-auto",attrs:{goal:e,theme:t.theme,"show-current":"",small:""}})],1)})),0),n("button",{staticClass:"panel flex-none px-0 w-12 lg:w-16",on:{click:function(e){return t.openMenu()}}},[n("Icon",{staticClass:"text-2xl text-gray-600",attrs:{name:"cog"}})],1)]),n("div",{staticClass:"absolute bottom-0 inset-x-0 flex align-center justify-center w-full text-gray-700 px-3 pb-5 lg:pb-10"},[n("div",{staticClass:"panel w-32 mx-auto"},[n("div",{staticClass:"text-center leading-none"},[n("div",{staticClass:"uppercase text-2xs lg:text-xs font-normal mb-1"},[t._v("Score")]),n("div",{staticClass:"text-2xl"},[t._v(t._s(t.score))])])])]),n("LevelMenuPanel",{ref:"menu",on:{"restart-level":function(e){return t.$emit("restart-level")},"exit-to-map":function(e){return t.$emit("exit-to-map")}}})],1)},Ln=[],$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"LevelMenuPanelm overflow-hidden"},[n("FadeTransition",[t.isOpen?n("div",{staticClass:"fixed inset-0 z-10 bg-black bg-opacity-25",on:{pointerdown:function(e){return t.close()}}}):t._e()]),n("SlideFromSide",[t.isOpen?n("div",{staticClass:"fixed inset-y-0 right-0 z-10 flex flex-col max-w-md bg-spaceblue-700 rounded-l-2xl",staticStyle:{width:"calc(100% - 3rem)"}},[n("div",{staticClass:"rounded-tl-2xl bg-spaceblue-800 p-5 text-white"},[n("Logo")],1),n("div",{staticClass:"p-5"},[n("Button",{staticClass:"w-full mb-5",attrs:{primary:""},on:{click:function(e){t.close(),t.$emit("restart-level")}}},[t._v(" Restart ")]),n("Button",{staticClass:"w-full mb-5",on:{click:function(e){t.close(),t.$emit("exit-to-map")}}},[t._v(" Exit to map ")])],1)]):t._e()])],1)},Rn=[],Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"transform transition-transform duration-150 ease-out","enter-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transform transition-transform duration-150 ease-in","leave-class":"translate-x-0","leave-to-class":"translate-x-full"}},[t._t("default")],2)},Pn=[],Dn={},In=Object(X["a"])(Dn,Bn,Pn,!1,null,null,null),zn=In.exports,qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"transition-opacity duration-"+t.duration,"enter-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-"+t.duration,"leave-class":"opacity-100","leave-to-class":"opacity-0"}},[t._t("default")],2)},Fn=[],Nn={props:{duration:{type:Number,default:150,validator:function(t){return[75,100,150,200,300,500,700,1e3].includes(t)}}}},Gn=Nn,Hn=Object(X["a"])(Gn,qn,Fn,!1,null,null,null),Yn=Hn.exports,Un={components:{Logo:Z,SlideFromSide:zn,FadeTransition:Yn},data:function(){return{isOpen:!1}},methods:{open:function(){this.isOpen=!0,window.addEventListener("keydown",this.close)},close:function(){this.isOpen=!1,window.removeEventListener("keydown",this.close)},closeByEsc:function(t){"Escape"===t.key&&this.close()}}},Vn=Un,Qn=Object(X["a"])(Vn,$n,Rn,!1,null,null,null),Xn=Qn.exports,Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"GoalItem relative text-center w-9 lg:w-16"},[n("div",{staticClass:"GoalItem__counter"},[n("div",{staticClass:"relative w-6 h-6 mx-auto mt-1"},[n("GoalPreview",{staticClass:"w-full h-full transition-all duration-150",style:t.isCompleted?"filter: brightness(75%);":"",attrs:{goal:t.goal,theme:t.theme}}),n("div",{staticClass:"absolute inset-0 flex text-white transform transition-transform duration-200",class:{"opacity-0 scale-0":!t.isCompleted}},[n("Icon",{staticClass:"m-auto",attrs:{name:"check"}})],1)],1),n("div",{staticClass:"-mt-px pt-px text-2xs lg:text-xs transition-opacity duration-150",class:{"opacity-0":t.isCompleted}},[t._v(" "+t._s(t.goal.current||0)+" / "+t._s(t.goal.target)+" ")])])])},Kn=[],Zn={components:{GoalPreview:Ne},props:{goal:{type:Object},theme:{type:Object}},computed:{isCompleted:function(){return this.goal.current>=this.goal.target}},watch:{isCompleted:function(t,e){t&&t!==e&&Tn()}}},tr=Zn,er=Object(X["a"])(tr,Jn,Kn,!1,null,null,null),nr=er.exports,rr={components:{LevelMenuPanel:Xn,GoalItem:nr},props:{movesLeft:{type:Number,required:!0},goals:{type:Array,required:!0},theme:{type:Object,required:!0},score:{type:Number,required:!0}},computed:{isLowOnMovesLeft:function(){return this.movesLeft<=5}},methods:{openMenu:function(){this.$refs.menu.open()}}},ir=rr,or=(n("223c"),Object(X["a"])(ir,kn,Ln,!1,null,"7ca79cf2",null)),sr=or.exports,ar=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"MapTile will-transform",attrs:{"transform-origin":"0.5 0.5"}},[n(t.component,{ref:"content",tag:"component",attrs:{tile:t.tile,theme:t.theme}})],1)},lr=[],cr={props:{tile:{type:Object,required:!0},theme:{type:Object}},computed:{component:function(){return ce(this.tile.type)}},methods:{animateDestruction:function(){return Object(ct["a"])({targets:this.$el,scale:0,easing:"linear",duration:150}).finished},animateFall:function(t){var e=this;return Object(en["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.map((function(t){var n=t.x,r=t.y;return{translateX:n-e.tile.position.x,translateY:r-e.tile.position.y}})),n.next=3,Object(ct["a"])(Object(s["a"])({targets:e.$el},r[0],{easing:"linear",duration:0})).finished;case 3:return n.next=5,Object(ct["a"])({targets:e.$el,easing:"linear",duration:50*r.length,keyframes:r}).finished;case 5:return n.next=7,e.bounce(r.length);case 7:case"end":return n.stop()}}),n)})))()},bounce:function(t){var e=this;return Object(en["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=10,t=Math.min(r,t),n.abrupt("return",Object(ct["a"])({targets:e.$el,easing:function(){return function(t){return 1-Math.pow(2*t-1,2)}},duration:150,translateY:-.05*(0===e.tile.y?1.5*r:t)}).finished);case 3:case"end":return n.stop()}}),n)})))()}},mounted:function(){Object(ct["a"])({targets:this.$el,opacity:[0,1],easing:"linear",duration:50})}},ur=cr,pr=Object(X["a"])(ur,ar,lr,!1,null,null,null),fr=pr.exports,hr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.component,{ref:"content",tag:"component",attrs:{modifier:t.modifier,theme:t.theme}})},mr=[],dr={props:{modifier:{type:Object,required:!0},theme:{type:Object}},computed:{component:function(){return $e(this.modifier.type)}}},gr=dr,vr=Object(X["a"])(gr,hr,mr,!1,null,null,null),yr=vr.exports,br=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fixed inset-0 pointer-events-none z-10"},[t._l(t.corners,(function(e,r){return n("svg",{key:r,staticClass:"absolute will-transform",style:e,attrs:{viewBox:"0 0 1 1",preserveAspectRatio:"none"}},[n("polyline",{staticClass:"transition-all duration-200",style:t.style,attrs:{"stroke-width":"20",points:"1,0 0,0 0,1",height:"100",fill:"none",stroke:t.color,"vector-effect":"non-scaling-stroke"}})])})),n("svg",{staticClass:"absolute w-full h-full will-transform",attrs:{viewBox:"0 0 1 1",preserveAspectRatio:"none"}},[n("rect",{staticClass:"tranform transition-opacity duration-200",style:{opacity:t.selection.length&&t.isSelectionClosed?.15:0},attrs:{x:"0",y:"0",width:"1",height:"1",fill:t.color}})])],2)},xr=[];n("c740");function wr(t){var e=t[t.length-1];return t.findIndex((function(t){return t.id===e.id}))<t.length-2}function Wr(t,e){var n=e[e.length-1],r=e.findIndex((function(t){return t.id===n.id})),i=e.slice(r),o={left:Math.min.apply(Math,i.map((function(t){return t.position.x}))),right:Math.max.apply(Math,i.map((function(t){return t.position.x}))),top:Math.min.apply(Math,i.map((function(t){return t.position.y}))),bottom:Math.max.apply(Math,i.map((function(t){return t.position.y})))};return t.filter((function(t){return!e.some((function(e){var n=e.id;return t.id===n}))&&t.position.x>o.left&&t.position.x<o.right&&t.position.y>o.top&&t.position.y<o.bottom}))}var Or={props:{selection:{type:Array,default:function(){return[]}},isActive:{type:Boolean},theme:{type:Object}},data:function(){var t="width: calc(50% + 1px); height: calc(50% + 1px);";return{points:"",style:"",corners:["".concat(t," top: 0; left: 0;"),"".concat(t," top: 0; right: 0; transform: rotateY(180deg)"),"".concat(t," bottom: 0; right: 0; transform: rotateX(180deg) rotateY(180deg)"),"".concat(t," bottom: 0; left: 0; transform: rotateX(180deg)")]}},computed:{isSelectionClosed:function(){return wr(this.selection)},color:function(){var t;return this.theme.colorMap.dots[null===(t=this.selection[0])||void 0===t?void 0:t.color]}},methods:{render:function(){var t=Math.max(0,this.selection.length-1),e=(this.$el.clientWidth+this.$el.clientHeight+2)/2,n=t&&this.isSelectionClosed?1:Math.min(.95,t/10);this.style={"stroke-dasharray":"".concat(n*e," ").concat(e)}}},watch:{"selection.length":"render"}},Cr=Or,jr=Object(X["a"])(Cr,br,xr,!1,null,null,null),_r=jr.exports,Sr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("svg",{attrs:{width:t.size.width+2,height:t.size.height+2,x:"-1",y:"-1"}},[n("defs",[n("filter",{attrs:{id:"shadow"}},[n("feOffset",{attrs:{in:"SourceGraphic",dy:".1"}}),n("feGaussianBlur",{attrs:{result:"blurOut",stdDeviation:".1"}})],1),n("mask",{attrs:{id:"mask"}},[n("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}}),t._l(t.walls,(function(t){return n("rect",{key:t.id,attrs:{width:"1",height:"1",x:t.position.x+1,y:t.position.y+1,fill:"black"}})}))],2),n("clipPath",{attrs:{id:"clipPath"}},t._l(t.walls,(function(t){return n("rect",{key:t.id,attrs:{width:"1",height:"1",x:t.position.x+1,y:t.position.y+1,fill:"black"}})})),0)]),n("g",{attrs:{filter:"url(#shadow)","clip-path":"url(#clipPath)"}},[n("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(0,0,0,.2)",mask:"url(#mask)"}}),n("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(0,0,0,.2)"}})])])])},Ar=[],Tr={props:{walls:{type:Array,default:function(){return[]}},size:{type:Object,required:!0}}},Er=Tr,Mr=Object(X["a"])(Er,Sr,Ar,!1,null,null,null),kr=Mr.exports,Lr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[t.isMakingSelection?n("SelectionLine",{attrs:{selection:t.selection,theme:t.theme,size:t.size}}):t._e(),t.isMakingSelection?n("g",{staticClass:"opacity-0"},[t._l(t.nextPossibleTiles,(function(e){return n("rect",t._b({key:e.id,attrs:{width:"1",height:"1"},on:{pointerenter:function(n){return t.addToSelection(e,n)}}},"rect",e.position,!1))})),t.secondLastSelected?n("rect",t._b({attrs:{width:"1",height:"1"},on:{pointerenter:function(e){return t.removeLastFromSelection(e)}}},"rect",t.secondLastSelected.position,!1)):t._e()],2):t.disabled?t._e():n("g",{staticClass:"opacity-0"},t._l(t.selectableTiles,(function(e){return n("rect",t._b({key:"selectable."+e.id,attrs:{width:"1",height:"1"},on:{pointerdown:function(n){return t.startSelection(e)},gotpointercapture:t.releasePointerCapture}},"rect",e.position,!1))})),0)],1)},$r=[],Rr=(n("0481"),n("4069"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("rect",{ref:"placeholder",staticClass:"pointer-events-none",attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"transparent"}}),n("polyline",{attrs:{points:t.points,stroke:t.hexColor,"stroke-width":".12",fill:"none","stroke-linecap":"round"}})])}),Br=[],Pr=(n("a15b"),{props:{theme:{type:Object},size:{type:Object},selection:{type:Array,default:function(){return[]}}},data:function(){return{relativeMousePosition:void 0,boundingBox:void 0}},methods:{updateMousePosition:function(t){var e=t.clientX,n=t.clientY,r=this.boundingBox,i=r.top,o=r.left,s=r.width,a=r.height,l={x:(e-o)/s*this.size.width,y:(n-i)/a*this.size.height};this.relativeMousePosition=l}},computed:{points:function(){if(this.selection.length&&this.relativeMousePosition){var t=this.selection.map((function(t){return"".concat(t.position.x+.5,",").concat(t.position.y+.5)}));return wr(this.selection)||t.push("".concat(this.relativeMousePosition.x,",").concat(this.relativeMousePosition.y)),t.join(" ")}},hexColor:function(){return this.theme.colorMap.dots[this.selection[0].color]}},mounted:function(){this.boundingBox=this.$refs.placeholder.getBoundingClientRect(),window.addEventListener("pointermove",this.updateMousePosition)},beforeDestroy:function(){window.removeEventListener("pointermove",this.updateMousePosition)}}),Dr=Pr,Ir=Object(X["a"])(Dr,Rr,Br,!1,null,null,null),zr=Ir.exports;function qr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=un(t,e.position).filter(ie).filter(dn("color",e.color));return n&&(r=r.filter(yn(n.id))),r}var Fr={components:{SelectionLine:zr},props:{tilesMatrix:{type:Array,required:!0},size:{type:Object,required:!0},theme:{type:Object,required:!0},disabled:{tyoe:Boolean}},data:function(){return{selection:[],isMakingSelection:!1,nextPossibleTiles:[]}},computed:{tiles:function(){return this.tilesMatrix.flat()},selectableTiles:function(){return this.tiles.filter(ie)},isSelectionClosed:function(){return wr(this.selection)},enclosedTiles:function(){return Wr(this.tiles,this.selection)},selectionColor:function(){return this.selection.length&&this.selection[0].color||void 0},lastSelected:function(){return this.selection[this.selection.length-1]},secondLastSelected:function(){return this.selection[this.selection.length-2]}},methods:{startSelection:function(t){this.isMakingSelection=!0,this.selection=[],this.$emit("start"),this.addToSelection(t),window.addEventListener("pointerup",this.endSelection)},addToSelection:function(t){this.selection.push(t),this.handleSelectionChange()},removeLastFromSelection:function(t){t.preventDefault(),this.selection.pop(),this.handleSelectionChange()},handleSelectionChange:function(){this.nextPossibleTiles=this.isSelectionClosed?[]:qr(this.tilesMatrix,this.lastSelected,this.lastSelected),this.playSelectionThumb(),this.$emit("change",{selection:this.selection,isSelectionClosed:this.isSelectionClosed,selectionColor:this.selectionColor,lastSelected:this.lastSelected})},endSelection:function(t){var e=this;return Object(en["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.preventDefault(),window.removeEventListener("pointerup",e.endSelection),e.isMakingSelection=!1,e.nextPossibleTiles=[],e.$emit("end",{selection:e.selection,enclosedTiles:e.enclosedTiles,isSelectionClosed:e.isSelectionClosed,selectionColor:e.selectionColor}),e.selection=[];case 6:case"end":return n.stop()}}),n)})))()},releasePointerCapture:function(t){t.target.releasePointerCapture(t.pointerId)},playSelectionThumb:function(){Sn(this.selection.length,this.isSelectionClosed)}}},Nr=Fr,Gr=Object(X["a"])(Nr,Lr,$r,!1,null,null,null),Hr=Gr.exports,Yr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-layout",{staticClass:"select-none font-sans font-light",attrs:{width:"480","hide-closer":""}},[n("div",{staticClass:"absolute w-full inset-x-0 t-0 flex items-end justify-center text-yellow-500",staticStyle:{transform:"translateY(-4.5rem)"}},[n("Icon",{staticStyle:{transform:"rotate(-25deg)"},attrs:{name:"star",size:"3x"}}),n("Icon",{staticClass:"-mx-2 text-yellow-400",attrs:{name:"star",size:"5x"}}),n("Icon",{staticStyle:{transform:"rotate(25deg)"},attrs:{name:"star",size:"3x"}})],1),n("div",{staticClass:"font-light text-5xl text-center mt-5"},[t._v(" Genius ")]),n("div",{staticClass:"pt-2"},[n("Button",{staticClass:"w-full",attrs:{primary:""},on:{click:function(e){return t.$emit("close")}}},[t._v(" Continue ")])],1)])},Ur=[],Vr={},Qr=Object(X["a"])(Vr,Yr,Ur,!1,null,null,null),Xr=Qr.exports,Jr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal-layout",{staticClass:"select-none font-sans font-light",attrs:{width:"480","hide-closer":""}},[n("div",{staticClass:"absolute w-full inset-x-0 t-0 flex items-end justify-center text-red-600",staticStyle:{transform:"translateY(-4rem)"}},[n("Icon",{attrs:{name:"heart-broken",size:"5x"}})],1),n("div",{staticClass:"font-light text-5xl text-center my-5"},[t._v(" Out of moves ")]),n("div",{staticClass:"pt-2"},[n("Button",{staticClass:"w-full",attrs:{primary:""},on:{click:function(e){return t.$emit("close")}}},[t._v(" Continue ")])],1)])},Kr=[],Zr={},ti=Object(X["a"])(Zr,Jr,Kr,!1,null,null,null),ei=ti.exports;function ni(t){return Object(s["a"])({},nn(t.blueprint,t.colors),{movesLeft:t.moves,goals:t.goals.map((function(t){return Object(s["a"])({},t,{current:0})})),score:0,isSelectionDisabled:!1})}function ri(t){return t.reduce((function(t,e){return t+(e.value||1)}),0)}function ii(t){return oi.apply(this,arguments)}function oi(){return oi=Object(en["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,e)}));case 2:case"end":return t.stop()}}),t)}))),oi.apply(this,arguments)}var si={components:{LevelInterface:sr,GameboardTile:fr,GameboardModifier:yr,WallsLayer:kr,Selection:Hr,SelectionProgressFrame:_r},props:{level:{type:Object,required:!0}},data:function(){return{size:{width:0,height:0},tiles:[],modifiers:[],movesLeft:0,goals:[],score:0,selection:[],isMakingSelection:!1,isSelectionDisabled:!1}},computed:{canvasSize:function(){return{width:"".concat(this.size.width/y.gameboardSize.width*100,"%"),height:"".concat(this.size.height*y.tileSize,"px")}},tilesMatrix:function(){var t=sn(this.size);return this.tiles.forEach((function(e){return cn(t,e.position,e)})),t},wallTiles:function(){return this.tiles.filter(se)},modifiersWithTile:function(){var t=this;return this.modifiers.map((function(e){return Object(s["a"])({},e,{tile:ln(t.tilesMatrix,e.position)})}))},availableDotSquares:function(){var t=this;return this.tiles.filter(ie).reduce((function(e,n){var r=un(t.tilesMatrix,n.position,on.DOWN_SQUARE),i=r.every((function(t){return(null===t||void 0===t?void 0:t.color)===n.color}));return i&&4===r.length&&e.push(r),e}),[])},hasAnyHorizontalMove:function(){return this.tilesMatrix.some((function(t){return t.some((function(t,e,n){var r=n[e+1];return(null===r||void 0===r?void 0:r.color)===t.color}))}))},hasAnyVerticalMove:function(){return this.tilesMatrix.some((function(t,e,n){return t.some((function(t,r){var i=n[e+1],o=i&&i[r];return(null===o||void 0===o?void 0:o.color)===t.color}))}))},hasAnyMoveAvailable:function(){return this.hasAnyHorizontalMove||this.hasAnyVerticalMove},hasMetGoals:function(){return this.goals.every((function(t){return t.current>=t.target}))},isLowOnMovesLeft:function(){return this.movesLeft<=5},hasMovesLeft:function(){return this.movesLeft>0}},methods:{restart:function(){var t=this;Object.entries(ni(this.level)).forEach((function(e){var n=Object(tn["a"])(e,2),r=n[0],i=n[1];t.$set(t,r,i)})),this.cancelSquaresHighlighting(),this.initSquaresHighlighting()},initSquaresHighlighting:function(){var t=this;this.squaresHighlightingInterval=setInterval((function(){return t.highlightRandomSquare()}),1e4)},cancelSquaresHighlighting:function(){this.squaresHighlightingInterval&&clearInterval(this.squaresHighlightingInterval)},startSelection:function(){this.isMakingSelection=!0,this.cancelSquaresHighlighting()},changeSelection:function(t){var e=t.selection,n=t.isSelectionClosed,r=t.selectionColor,i=t.lastSelected;this.selection=e,n&&this.getAllDotTilesOfColor(r).map(this.getTileContentComponent).forEach((function(t){return t.animateBeacon()})),i&&this.getTileContentComponent(i).animateBeacon()},endSelection:function(t){var e=this;return Object(en["a"])(regeneratorRuntime.mark((function n(){var r,i,o,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.selection,i=t.enclosedTiles,o=t.isSelectionClosed,s=t.selectionColor,e.selection=[],!(r.length>1)){n.next=8;break}return e.movesLeft=e.movesLeft-1,o&&i.filter((function(t){return!t.static})).forEach(e.convertIntoBomb),a=o?e.getAllDotTilesOfColor(s):r,n.next=8,e.poppingRoutine(a,o&&s);case 8:if(!e.hasMetGoals){n.next=10;break}return n.abrupt("return",e.completeLevel());case 10:if(e.hasMovesLeft){n.next=12;break}return n.abrupt("return",e.outOfMoves());case 12:e.initSquaresHighlighting(),e.isSelectionDisabled=!1;case 14:case"end":return n.stop()}}),n)})))()},poppingRoutine:function(t){var e=arguments,n=this;return Object(en["a"])(regeneratorRuntime.mark((function i(){var o,s,a,l,c,u,p,f;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=e.length>1&&void 0!==e[1]?e[1]:void 0,s=o?n.level.colors.filter((function(t){return t!==o})):n.level.colors,s.length||(s=n.level.colors),a=[],i.next=6,n.popTiles(t);case 6:return a.push.apply(a,Object(r["a"])(n.fallDown())),a.push.apply(a,Object(r["a"])(n.fillWithDots(s))),i.next=10,n.animateMovements(a);case 10:if(l=n.tiles.filter(oe),!l.length){i.next=19;break}return c=l.reduce((function(t,e){var r=un(n.tilesMatrix,e.position,on.SQUARE).filter((function(t){return!t.static}));return t.concat({bomb:e,tiles:r})}),[]),u=c.flatMap((function(t){var e=t.tiles;return e})),n.animateTiles(u,(function(t){return t.animateBurn()})),p=c.map((function(t){var e=t.bomb,r=t.tiles;return n.animateTiles(e,(function(t){return t.animateDetonation(r)}))})),i.next=18,Promise.all(p);case 18:return i.abrupt("return",n.poppingRoutine(u.concat(l)));case 19:if(f=n.tiles.filter(ae).filter((function(t){return t.y+1===n.size.height})),!f.length){i.next=22;break}return i.abrupt("return",n.poppingRoutine(f));case 22:case"end":return i.stop()}}),i)})))()},animateMovements:function(t){var e=this;return Object(en["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e.$nextTick((function(){var r=t.filter((function(t){var e=t.waypoints;return e.length>1})).map((function(t){var n=t.tile,r=t.waypoints;return e.getTileComponent(n).animateFall(r)}));Promise.all(r).then(n)}))})));case 1:case"end":return n.stop()}}),n)})))()},animateTiles:function(t,e){var n=arguments,r=this;return Object(en["a"])(regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=n.length>2&&void 0!==n[2]?n[2]:r.getTileContentComponent,i.abrupt("return",Promise.all([].concat(t).map((function(t){return e(o(t))}))));case 2:case"end":return i.stop()}}),i)})))()},popTiles:function(t){var e=this;return Object(en["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ii(150);case 2:return e.crackTheIce(t),e.accountTiles(t),n.next=6,e.animateTiles(t,(function(t){return t.animateDestruction()}),e.getTileComponent);case 6:e.tiles=e.tiles.filter((function(e){return!t.some(vn(e.id))}));case 7:case"end":return n.stop()}}),n)})))()},crackTheIce:function(t){var e=this;return Object(en["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.map((function(t){return e.modifiers.find(bn(t.position))})).filter(Boolean),r.forEach((function(t){return hn(e.$refs.canvas,t.position)})),e.modifiers=e.modifiers.map((function(t){return r.some(vn(t.id))?Object(s["a"])({},t,{cracks:(t.cracks||0)+1}):t})),i=e.modifiers.filter(Le).filter((function(t){return t.cracks>2})),e.modifiers=e.modifiers.filter((function(t){return!i.some(vn(t.id))})),e.accountBrokenIceModifiers(i);case 6:case"end":return n.stop()}}),n)})))()},fallDown:function(){var t=this,e=function t(e,n){var i=e.x,o=e.y,a={x:i,y:o},l=[];while(++a.y<n.length){var c=ln(n,a);if(c)if(le(c))l.push.apply(l,Object(r["a"])(t({x:a.x+("left"===c.orientation?-1:1),y:a.y-1},n)));else{if(!se(c))break;l.push.apply(l,Object(r["a"])(t({x:a.x,y:a.y+1},n)))}else l.push(Object(s["a"])({},a))}return l},n=sn(this.size);this.tiles.filter((function(t){return t.static})).forEach((function(t){cn(n,t.position,t)}));for(var i={},o=this.size.height-1;o>=0;o--){var a=an(this.tilesMatrix,o).filter(Boolean).filter((function(t){return!t.static}));a.sort((function(e,n){var r=function(e){return ln(t.tilesMatrix,{x:e.position.x,y:e.position.y+1})};return le(r(n))-le(r(e))})),a.forEach((function(t){var o=Object(s["a"])({},t.position),a=[o].concat(Object(r["a"])(e(t.position,n))),l=a.slice(-1).pop(),c=Object(s["a"])({},t,{position:l});cn(n,l,c),i[t.id]={tile:c,waypoints:a}}))}return this.tiles=this.tiles.map((function(t){var e;return(null===(e=i[t.id])||void 0===e?void 0:e.tile)||t})),Object.values(i)},fillWithDots:function(t){for(var e=this,n=this.size,i=n.width,o=n.height,s=[],a=0;a<i;a++){for(var l=[],c=0;c<o;c++){var u=ln(this.tilesMatrix,{x:a,y:c});u||l.push({position:{x:a,y:c},newTile:void 0,initialOffset:0})}l.forEach((function(t,e,n){var r=n.length;t.initialOffset=t.position.y+(r-e)})),s=s.concat(l)}if(this.goals.some((function(t){return ae(t.tile)})))for(var p,f,h=this.tiles.filter(ae).length,m=null!==(p=null===(f=this.level.anchors)||void 0===f?void 0:f.maximum)&&void 0!==p?p:Math.ceil(this.size.width*this.size.height/16),d=Math.floor(Math.random()*(m-h+1)),g=0;g<d;g++){var v=s.filter((function(t){return!t.newTile&&!t.position.y})).filter((function(t){var n,r;return!(null===(n=e.level.anchors)||void 0===n?void 0:n.dedicatedColumns)||(null===(r=e.level.anchors)||void 0===r?void 0:r.dedicatedColumns.includes(t.position.x))})),y=st(v);y&&(y.newTile=ne(y.position))}s.forEach((function(e){e.newTile=e.newTile||te(e.position,t)}));var b=s.map((function(t){var e=t.newTile;return e}));this.tiles=this.tiles.concat(b);var x=s.map((function(t){var e=Object(r["a"])(Array(t.initialOffset+1)).map((function(e,n){return{x:t.newTile.position.x,y:t.newTile.position.y-t.initialOffset+n}}));return{tile:t.newTile,waypoints:e}}));return x},convertIntoBomb:function(t){var e=ee(t.position,t);this.popTiles([t]),this.tiles.push(e)},highlightRandomSquare:function(){this.availableDotSquares.length&&this.animateTiles(st(this.availableDotSquares),(function(t){return t.animateBeacon()}))},accountTiles:function(t){this.gainScore(ri(t)),this.goals=this.goals.map((function(e){if(e.tile){var n=t.filter((function(t){return ie(null===e||void 0===e?void 0:e.tile)?e.tile.color===t.color:(null===e||void 0===e?void 0:e.tile.type)===t.type})).length;return Object(s["a"])({},e,{current:Math.min(e.target,e.current+n)})}return e}))},accountBrokenIceModifiers:function(t){this.goals=this.goals.map((function(e){return Le(e.modifier)?Object(s["a"])({},e,{current:Math.min(e.target,e.current+t.length)}):e}))},gainScore:function(t){this.score=this.score+t},getAllDotTilesOfColor:function(t){return this.tiles.filter(ie).filter((function(e){return e.color===t}))},getTileComponent:function(t){return this.$refs[t.id][0]},getModifierComponent:function(t){return this.$refs[t.id][0]},getTileContentComponent:function(t){return this.getTileComponent(t).$refs.content},getModifierContentComponent:function(t){return this.getModifierComponent(t).$refs.content},completeLevel:function(){var t=this;return Object(en["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ii(150);case 2:t.$store.dispatch("completeLevel",{level:t.level.id,score:t.score}),t.$modal(Xr).then((function(){return t.$router.push({name:"map"})})),En();case 5:case"end":return e.stop()}}),e)})))()},outOfMoves:function(){var t=this;return Object(en["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ii(150);case 2:t.$modal(ei).then((function(){return t.$router.push({name:"map"})})),An();case 4:case"end":return e.stop()}}),e)})))()},restartLevel:function(){var t=this;return Object(en["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ii(300);case 2:t.restart();case 3:case"end":return e.stop()}}),e)})))()},exitToMap:function(){var t=this;return Object(en["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ii(150);case 2:return e.next=4,t.animateTiles(t.tiles,(function(t){return t.animateDestruction()}),t.getTileComponent);case 4:return e.next=6,ii(150);case 6:t.$router.push({name:"map"});case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.restart()},beforeDestroy:function(){this.cancelSquaresHighlighting()}},ai=si,li=(n("a36e"),Object(X["a"])(ai,Ke,Ze,!1,null,null,null)),ci=li.exports;i["a"].use(d["a"]);var ui=[{path:"/",name:"map",component:Je},{path:"/level/:level",name:"level",component:ci,beforeEnter:function(t,e,n){var r=Number(t.params.level),i=N.some((function(t){var e=t.id;return e===r})),o=m.getters.user.level>=r;i&&o?n():n({name:"map"})},props:function(t){return{level:U(Number(t.params.level))}}}],pi=new d["a"]({routes:ui,base:"/twodots/"}),fi=pi,hi=n("a9bc"),mi=n.n(hi),di=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tagName,t._g(t._b({tag:"component",staticClass:"Button button",class:{"button-primary":t.primary,"button-mall":t.small}},"component",t.$attrs,!1),t.listeners),[t._t("default")],2)},gi=[],vi={props:{small:{type:Boolean},primary:{type:Boolean}},computed:{tagName:function(){return this.$attrs.href?"a":"button"},listeners:function(){var t=this;return Object(s["a"])({},this.$listeners,{pointerdown:function(e){Mn(),t.$emit("pointerdown",e)},click:function(e){setTimeout((function(){return t.$emit("click",e)}),100)}})}}},yi=vi,bi=Object(X["a"])(yi,di,gi,!1,null,null,null),xi=bi.exports,wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"TextInput"},[n("input",t._g(t._b({staticClass:"input",class:{"input-invalid":t.error},attrs:{type:t.type}},"input",t.$attrs,!1),t.listeners)),t.error?n("div",{staticClass:"text-sm text-red-600 mt-px"},[t._v(" "+t._s(t.error)+" ")]):t._e()])},Wi=[],Oi={inheritAttrs:!1,props:{type:{type:String,default:"text",validator:function(t){return["tel","text","number","password","email"].includes(t)}},error:{type:String}},computed:{listeners:function(){var t=this;return Object(s["a"])({},this.$listeners,{input:function(e){return t.$emit("input",e.target.value)}})}}},Ci=Oi,ji=Object(X["a"])(Ci,wi,Wi,!1,null,null,null),_i=ji.exports,Si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("FontAwesomeIcon",t._b({attrs:{icon:t.name}},"FontAwesomeIcon",t.$attrs,!1))},Ai=[],Ti=n("ecee"),Ei=n("c074"),Mi=n("ad3d");Ti["c"].add(Ei["a"]);var ki={components:{FontAwesomeIcon:Mi["a"]},props:{name:{type:String}}},Li=ki,$i=Object(X["a"])(Li,Si,Ai,!1,null,null,null),Ri=$i.exports,Bi={Button:xi,TextInput:_i,Icon:Ri},Pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen overflow-hidden bg-gray-100 select-none font-sans font-light"},[n("FadeTransition",{attrs:{duration:500}},[n("router-view",{staticClass:"h-screen w-screen overflow-y-auto"})],1)],1)},Di=[],Ii={components:{FadeTransition:Yn}},zi=Ii,qi=(n("034f"),Object(X["a"])(zi,Pi,Di,!1,null,null,null)),Fi=qi.exports;i["a"].use(mi.a),Object.entries(Bi).forEach((function(t){return i["a"].component.apply(i["a"],Object(r["a"])(t))})),i["a"].config.productionTip=!1,new i["a"]({store:m,router:fi,render:function(t){return t(Fi)}}).$mount("#app")},"85ec":function(t,e,n){},"8b99":function(t,e,n){},"8f45":function(t,e,n){t.exports=n.p+"img/aqua.63a80717.svg"},"99e3":function(t,e,n){t.exports=n.p+"img/ice.aaede6ca.svg"},"9cf8":function(t,e,n){},a36e:function(t,e,n){"use strict";var r=n("9cf8"),i=n.n(r);i.a},fc17:function(t,e,n){t.exports=n.p+"img/ramp.2d8786a4.svg"}});
//# sourceMappingURL=app.dbde80dd.js.map